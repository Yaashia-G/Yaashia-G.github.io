<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Influence of Discretization in Dynamically Embedded Model Predictive Control | Yaashia Gautam </title> <meta name="author" content="Yaashia Gautam"> <meta name="description" content="A counter intuitive effect of discretisation time step in Dynamically Embedded MPC"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://yaashia-g.github.io/publications/Influence%20of%20Discretization%20in%20Dynamically%20Embedded%20Model%20Predictive%20Control/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Yaashia</span> Gautam </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/publications/">publications <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Influence of Discretization in Dynamically Embedded Model Predictive Control</h1> <p class="post-description">A counter intuitive effect of discretisation time step in Dynamically Embedded MPC</p> </header> <article> <p><em>Access the paper <a href="https://www.sciencedirect.com/science/article/pii/S2405896323016956" target="_blank" rel="external nofollow noopener">here </a>. Accepted to IFAC World Congress 2023</em></p> <p>As is known, Model Predictive Control is a popular control scheme for many complex systems. However, implementing it to continuous systems, \(\dot x = f(x,u)\) is almost impossible if we choose to solve a Continuous Time Optimal Control Problem (CT-OCP). So, a more practical method is to solve a Discretised Optimal Control Problem (DT-OCP). One of the ways to find the optimal control law is to solve the DT-OCP using a continuous solver. The result, hereafter referred to as Dynamically Embedded MPC (DE-MPC), is a continuous-time MPC scheme that tracks the solution to the OCP with a bounded error, (cite). In this paper, we analyse the effect of discretisation on DE-MPC. Intuitively having more acccurate discretisation (smaller \(t_d\)) would lead to more stable control law, however that is not true.</p> <h2 id="introduction">Introduction</h2> <p>The DE-MPC scheme is when for a continuous time system, \(\dot x = f(x,u)\), we solve the discretised OCP, (cite) Eq. 8, using a continuous solver, \(\dot z = \mathcal{T}(z,x)\). The optimal control is based on the idea that the solution of the optimal control problem can be embedded in the internal states of a dynamic control law running in parallel to the system.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/system-480.webp 480w,/assets/img/system-800.webp 800w,/assets/img/system-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/system.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The DE-MPC architecture. By Input-State Stability theorem, for small enough errors, this interconnection of the 3 subsystems is stable. </div> <p>For a fixed prediction horizon \(T\), intuitively, it would make sense that having a smaller discretisation time step \(t_d\), would reduce the discretisation error, making the control law <em>more accurate</em>, however, this does not hold true. While decreasing \(t_d\), the error between the continuous-time optimal control policy and its discrete approximation tends to zero. More importantly, the closed-loop response becomes slower as \(t_d\) increases. This behavior is likely due to the fact that the discretisation becomes increasingly unsta- ble as \(t_d\) increases, thereby causing the discretized control to be overdamped compared to the continuous- time solution.</p> <p>The solver on the other hand, assuming a fixed parameter \(x\), converges faster for an increasing \(t_d\). This can be explained by noting that higher values of \(t_d\) entail lower \(N = T /td\), thereby meaning that the optimization problem has fewer variables and is therefore easier to solve.</p> <p>The combination then results in higher values of td simultaneously slowing down the dynamics of the closed- loop system and speed up the convergence rate of the solver. This combined effect makes it easier for the DE- MPC to track the solution of the discretized OCP as the discretization step increases.</p> <h2 id="experiments-and-results">Experiments and Results</h2> <p>Numerical Experiments that illustrate the interesting behaviour of discretisation time step variation were conducted. On a point mass system and a Linearised Lane change and a Nonlinearised Lane change problem. The Linearised Lane change example is shown below.</p> <h3 id="linearised-lane-change">Linearised Lane Change</h3> <div class="row"> <div class="col-md-6 col-sm-12 mt-3 mt-md-0" style="float: left; margin-right: 15px;"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/lane_change-480.webp 480w,/assets/img/lane_change-800.webp 800w,/assets/img/lane_change-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/lane_change.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div> <p> Left: Comparison of the position, velocity, and input trajectories for the three MPC schemes subject to an additive disturbance on the input. The image is displayed on the left side of the page with text wrapping around it. You can continue adding more paragraphs or details here. </p> <p> Right: The computation time for the three schemes with noise, compared to the sampling time ts = 0.02. HMPC is the only scheme that consistently satisfies the real-time requirements. </p> </div> </div> <p>The disadvantage of MPC1 becomes apparent by examining the computation time required to solve the underlying OCP. As shown, the time required to solve MPC1 is approximately 30 times more than HMPC and MPC2. This is because MPC1 has a prediction length of N = 100 steps, whereas HMPC and MPC2 have a prediction length of only N = 5 steps.</p> </article> <h2>References</h2> <div class="publications"> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> Â© Copyright 2025 Yaashia Gautam. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>